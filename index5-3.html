<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>北風與太陽</title>
    <link rel="stylesheet" href="style5-3.css">
</head>

<body>
    <audio id="music" loop>
        <source src="wind_of_hope.mp3" type="audio/mpeg"/>
    </audio>
    <img src="player.png" id="player">
    <img src="wind.png" id="wind">
    <img src="sun.png" id="sun">
    <img src="item.png" id="item">
    <div class="textbox">
        <div class="text" id="text1">聊天聊天</div>
        <div class="text" id="text2">找到道具了！</div>
    </div>
    <div class="exit">EXIT</div>

    <div class="startpage" onclick="go()">
        <p>※此為測試版本，僅作為功能與格式的想法呈現，圖片與內容皆可再討論調整。<br>
            ※A:對話，Z:撿道具，X:關閉對話框</p>
        <p>點擊頁面開始遊戲</p> 
    </div>
    
    <script>
        var starepage = document.querySelector(".startpage");
        var music = document.getElementById("music");

        var player = document.getElementById("player");
        var wind = document.getElementById("wind");
        var sun = document.getElementById("sun");
        var item = document.getElementById("item");

        var exit = document.querySelector(".exit");

        function go(){
            starepage.style.display = "none";
            player.style.display = "block";
            wind.style.display = "block";
            sun.style.display = "block";
            item.style.display = "block";
            exit.style.display = "block";
            music.play();
        }

        var textbox = document.querySelector(".textbox");
    
        function css(el, attr, val) {
            if (val == undefined) {
                return parseFloat(getComputedStyle(el)[attr]);
            }
            // 設定哪些樣式
            // el.style[attr]=val+'px';
            switch (attr) {
                case 'opacity':
                case 'zIndex':
                    el.style[attr] = val;
                    break;
                default:
                    el.style[attr] = val + 'px';
            }
        }
    
        document.addEventListener("keydown", function(e){
            if(e.keyCode == 38){        /*上*/
                var t=css(player,'top');
                css(player,'top',t-10);
            }
            if(e.keyCode == 39){        /*右*/
                var l=css(player,'left');
                css(player,'left',l+10);
            }
            if(e.keyCode == 40){        /*下*/
                var t=css(player,'top');
                css(player,'top',t+10);
            }
            if(e.keyCode == 37){        /*左*/
                var l=css(player,'left');
                css(player,'left',l-10);
            }
            

            if(e.keyCode == 65){        /*A*/
                textbox.style.display = "block";
                text1.style.display = "block";
            }
            if(e.keyCode == 90){        /*Z*/
                textbox.style.display = "block";
                text2.style.display = "block";
            }
            if(e.keyCode == 88){        /*X*/
                textbox.style.display = "none";
                text1.style.display = "none";
                text2.style.display = "none";
            }
        })


        exit.addEventListener("click", function(){
            window.location.href="index5-2.html";
        })
    </script>
    
</body>
</html>